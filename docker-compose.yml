services:
  app:
    build: .
    ports:
      - "3000:3000"
    environment:
      # Database configuration
      DATABASE_URL: file:/data/local.db
      
      # Chat/LLM configuration (update these to match your setup)
      CHAT_URL: http://host.docker.internal:1234/v1/
      CHAT_MODEL: meta-llama-3.1-8b-instruct
      
      # Stable Diffusion configuration (update these to match your setup)
      SD_URL: http://host.docker.internal:7860/sdapi/v1/
      
      # Photo model settings
      SD_PHOTO_MODEL: dreamshaper_8_93211
      SD_PHOTO_PROMPT: "RAW photo,8k uhd,dslr,high quality"
      SD_PHOTO_NEGATIVE_PROMPT: "nsfw,underexposed,underexposure,overexposure,overexposed,canvas frame,cartoon,3d,3d render,CGI,computer graphics"
      
      # Drawing model settings
      SD_DRAWING_MODEL: rabbit_v7
      SD_DRAWING_PROMPT: "masterpiece,best quality,absurdres,highres"
      SD_DRAWING_NEGATIVE_PROMPT: "3d,3d render,CGI,computer graphics"
      
      # Stylized model settings
      SD_STYLIZED_MODEL: restlessexistence_v30Reflection
      SD_STYLIZED_PROMPT: "(Maya 3d render:1.05),(masterpiece:1.3),(hires,high resolution:1.3),subsurface scattering,ambient occlusion,bloom"
      SD_STYLIZED_NEGATIVE_PROMPT: "underexposed,underexposure,overexposure,overexposed,canvas frame,cartoon"
    volumes:
      # Persist the SQLite database
      - sparklai-data:/data
    restart: unless-stopped
    # Optional: use host network to access localhost services
    # network_mode: host
    # Note: If using network_mode: host, remove the ports section above

volumes:
  sparklai-data:
